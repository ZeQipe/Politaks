(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,94102,e=>{"use strict";var t,l,r,n,a,i,o=e.i(43476),s=e.i(932),c=e.i(57688),d=e.i(53145);e.i(91268);var u=e.i(94643),m=function(e){var t,l,r=(0,s.c)(3),n=e.className;return r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,o.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,o.jsx)("circle",{cx:"7",cy:"7",r:"6",stroke:"currentColor",strokeOpacity:".3",strokeWidth:"2"}),(0,o.jsx)("path",{fill:"currentColor",fillOpacity:".1",fillRule:"nonzero",d:"M7 0a7 7 0 0 1 7 7h-2a5 5 0 0 0-5-5V0z"})]}),r[0]=t):t=r[0],r[1]!==n?(l=(0,o.jsx)("svg",{"aria-hidden":"true",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",className:n,children:t}),r[1]=n,r[2]=l):l=r[2],l};e.i(92916);var f=e.i(77086),h=function(e){var t,l,r,n,a=(0,s.c)(10),i=e.isLoading,c=i?"Обработка...":"Отправить";return a[0]!==i?(t=i&&(0,o.jsx)(m,{className:"animate-spin text-dark w-4 h-4"}),a[0]=i,a[1]=t):t=a[1],a[2]!==c?(l=(0,o.jsx)(f.Text,{uppercase:!0,weight:"bold",color:"black",size:"sm",children:c}),a[2]=c,a[3]=l):l=a[3],a[4]!==t||a[5]!==l?(r=(0,o.jsxs)("div",{className:"flex gap-2 items-center",children:[t,l]}),a[4]=t,a[5]=l,a[6]=r):r=a[6],a[7]!==i||a[8]!==r?(n=(0,o.jsx)("div",{className:"",children:(0,o.jsx)(u.Button,{disabled:i,type:"submit",variant:"submit",children:r})}),a[7]=i,a[8]=r,a[9]=n):n=a[9],n},v=e.i(20786),b=e.i(51682),p=e.i(40316),x=e.i(25526),g=e.i(71645),y=e.i(64899);e.i(33451);var _=e.i(23042);e.i(4075);var j=e.i(64761);e.i(67496);var k=e.i(92626);e.i(91140);var w=e.i(27956),S=e.i(42010),C=(0,S.tv)({slots:{icon:"transition-transform duration-200",selectedContainer:"flex flex-wrap gap-2 mb-2",selectedItem:["inline-flex items-center gap-2 px-3 py-1.5","bg-secondary text-dark rounded-sm","shadow-sm","transition-all duration-150","hover:shadow-md hover:-translate-y-0.5"],removeButton:["ml-1 w-4 h-4","flex items-center justify-center","text-dark/60 hover:text-primary","transition-colors duration-150","cursor-pointer","active:scale-90"],dropdownItem:["px-4 py-2 cursor-pointer transition-colors flex items-center gap-2","first:rounded-t-sm last:rounded-b-sm"],checkmark:"w-4 h-4 flex items-center justify-center text-xs font-bold"},variants:{isOpen:{true:{icon:"rotate-180"},false:{icon:"rotate-0"}},isSelected:{true:{dropdownItem:"bg-primary-50 hover:bg-primary-100",checkmark:"text-primary-600"},false:{dropdownItem:"hover:bg-gray-100",checkmark:"text-transparent"}}}}),N=function(e){var t,l,r,n,a,i,c=(0,s.c)(23),d=e.items,u=e.value,m=e.label,f=e.labelPlacement,h=e.iconPlacement,v=e.placeholder,b=e.error,x=e.onChange,k=e.className,S=e.disabled,N=e.withSearch;c[0]!==u?(t=void 0===u?[]:u,c[0]=u,c[1]=t):t=c[1];var F=t,E=void 0===f?"top":f,T=void 0===h?"right":h,z=(0,g.useId)();c[2]===Symbol.for("react.memo_cache_sentinel")?(l=(0,w.inputElementTokens)({state:"readonly"}),c[2]=l):l=c[2];var O=l;c[3]===Symbol.for("react.memo_cache_sentinel")?(r=C(),c[3]=r):r=c[3];var L=r;c[4]!==d||c[5]!==F?(c[7]!==F?(a=function(e){return F.includes(e.label)},c[7]=F,c[8]=a):a=c[8],n=d.filter(a),c[4]=d,c[5]=F,c[6]=n):n=c[6];var q=n;return c[9]!==k||c[10]!==S||c[11]!==b||c[12]!==T||c[13]!==z||c[14]!==d||c[15]!==m||c[16]!==E||c[17]!==x||c[18]!==v||c[19]!==q||c[20]!==F||c[21]!==N?(i=(0,o.jsx)(y.DropdownToggle,{children:function(e){var t=e.isOpen,l=e.toggle,r=e.ref,n=function(e,t){e.stopPropagation();var l=q.filter(function(e){return e.id!==t.id});null==x||x(l)},a=q.length>0?"Выбрано: ".concat(q.length):"";return(0,o.jsxs)("div",{ref:r,className:k,children:[q.length>0&&(0,o.jsx)("div",{className:L.selectedContainer(),children:q.map(function(e){return(0,o.jsxs)("span",{className:L.selectedItem(),children:[e.label,(0,o.jsx)("button",{type:"button",className:L.removeButton(),onClick:function(t){return n(t,e)},children:"✕"})]},e.id)})}),(0,o.jsxs)(j.InputWrapper,{disabled:S,id:z,label:m,error:b,labelPlacement:E,iconPlacement:T,inputType:"select",state:"readonly",onClick:l,dropdown:t&&(0,o.jsx)(P,{items:d,selectedIds:q.map(I),onItemClick:function(e){var t;t=F.includes(e.label)?q.filter(function(t){return t.id!==e.id}):(0,p._)(q).concat([e]),null==x||x(t)},withSearch:N}),children:[(0,o.jsx)("div",{className:"grid place-items-center",children:(0,o.jsx)(_.ArrowIcon,{className:L.icon({isOpen:t})})}),(0,o.jsx)("input",{id:z,disabled:S,type:"text",className:O,value:a,placeholder:v,readOnly:!0})]})]})}}),c[9]=k,c[10]=S,c[11]=b,c[12]=T,c[13]=z,c[14]=d,c[15]=m,c[16]=E,c[17]=x,c[18]=v,c[19]=q,c[20]=F,c[21]=N,c[22]=i):i=c[22],i};function P(e){var t,l=(0,s.c)(25),r=e.items,n=e.selectedIds,a=e.onItemClick,i=e.withSearch,c=(0,b._)(g.default.useState(""),2),d=c[0],u=c[1],m=(0,x.useDebounce)(d,300);l[0]===Symbol.for("react.memo_cache_sentinel")?(h=function(e){u(e.target.value)},l[0]=h):h=l[0];var f=h;if(l[1]!==m||l[2]!==r||l[3]!==a||l[4]!==d||l[5]!==n||l[6]!==i){l[11]!==m?(j=function(e){return e.label.toLowerCase().includes(m.toLowerCase())},l[11]=m,l[12]=j):j=l[12];var h,v,p,y,_,j,w,S,N=r.filter(j);l[13]!==a?(w=function(e){null==a||a(e)},l[13]=a,l[14]=w):w=l[14];var P=w;l[15]!==P?(S=function(e,t){("Enter"===e.key||" "===e.key)&&(e.preventDefault(),P(t))},l[15]=P,l[16]=S):S=l[16];var I=S,F=C();v="menu",p="absolute z-50 w-full rounded-sm bg-white shadow-lg border-transparent max-h-[200px] overflow-y-auto scroll-base top-full mt-5",l[17]!==d||l[18]!==i?(y=i&&(0,o.jsx)("div",{className:"px-4 py-2",children:(0,o.jsx)(k.TextField,{onChange:f,placeholder:"Поиск",showFloatingHint:!0,value:d})}),l[17]=d,l[18]=i,l[19]=y):y=l[19],_=N.map(function(e){var t=n.includes(e.id);return(0,o.jsxs)("div",{className:F.dropdownItem({isSelected:t}),onClick:function(){return P(e)},onKeyDown:function(t){return I(t,e)},role:"menuitem",tabIndex:0,children:[(0,o.jsx)("span",{className:F.checkmark({isSelected:t}),children:"✓"}),(0,o.jsx)("span",{children:e.label})]},e.id)}),l[1]=m,l[2]=r,l[3]=a,l[4]=d,l[5]=n,l[6]=i,l[7]=v,l[8]=p,l[9]=y,l[10]=_}else v=l[7],p=l[8],y=l[9],_=l[10];return l[20]!==v||l[21]!==p||l[22]!==y||l[23]!==_?(t=(0,o.jsxs)("div",{role:v,className:p,children:[y,_]}),l[20]=v,l[21]=p,l[22]=y,l[23]=_,l[24]=t):t=l[24],t}function I(e){return e.id}e.i(20227);var F=e.i(9278),E=e.i(33027),T=(0,S.tv)({extend:w.inputElementTokens,variants:{size:{s:"h-[3lh]",m:"h-[6lh]",l:"h-[9lh]"}},defaultVariants:{size:"s",state:"default",multiline:!0}}),z=function(e){var t,l,r,n,a,i,c,d,u,m,f,h,b=(0,s.c)(27);b[0]!==e?(u=(0,E._)(e,["label","error","labelPlacement","iconPlacement","icon","placeholder","disabled","size"]),n=e.label,l=e.error,c=e.labelPlacement,d=e.iconPlacement,r=e.icon,a=e.placeholder,t=e.disabled,i=e.size,b[0]=e,b[1]=t,b[2]=l,b[3]=r,b[4]=n,b[5]=a,b[6]=i,b[7]=c,b[8]=d,b[9]=u):(t=b[1],l=b[2],r=b[3],n=b[4],a=b[5],i=b[6],c=b[7],d=b[8],u=b[9]);var p=void 0===c?"top":c,x=void 0===d?"right":d,y=(0,g.useId)();b[10]!==i?(m=T({size:i}),b[10]=i,b[11]=m):m=b[11];var _=m;return b[12]!==t||b[13]!==y||b[14]!==a||b[15]!==u||b[16]!==_?(f=(0,o.jsx)("textarea",(0,v._)({disabled:t,id:y,className:_,placeholder:a},u)),b[12]=t,b[13]=y,b[14]=a,b[15]=u,b[16]=_,b[17]=f):f=b[17],b[18]!==t||b[19]!==l||b[20]!==r||b[21]!==x||b[22]!==y||b[23]!==n||b[24]!==p||b[25]!==f?(h=(0,o.jsxs)(j.InputWrapper,{disabled:t,id:y,label:n,error:l,labelPlacement:p,iconPlacement:x,inputType:"multiline",children:[r,f]}),b[18]=t,b[19]=l,b[20]=r,b[21]=x,b[22]=y,b[23]=n,b[24]=p,b[25]=f,b[26]=h):h=b[26],h},O=(0,S.tv)({slots:{label:"w-fit pr-3 peer border-r border-r-neutral-400 text-sm text-zinc-600",output:"w-fit pl-3 text-sm text-zinc-600"},variants:{state:{focus:{label:"border-r-primary"},default:{}}},defaultVariants:{state:"default"}}),L=function(e){var t,l,r,n,a=(0,s.c)(57),i=e.labelPlacement,c=e.iconPlacement,d=e.label,u=e.disabled,m=e.onChange,f=e.error,h=(0,b._)((0,g.useState)(!1),2),v=h[0],p=h[1],y=(0,b._)((0,g.useState)(""),2),_=y[0],k=y[1],w=(0,g.useId)();a[0]===Symbol.for("react.memo_cache_sentinel")?(P=function(){return p(!1)},a[0]=P):P=a[0];var S=(0,x.useClickAway)(P);a[1]!==m?(I=function(e){var t,l=null==(t=e.target.files)?void 0:t[0];k(l?l.name:""),p(!1),null==m||m(e)},a[1]=m,a[2]=I):I=a[2];var C=I,N=v?"focus":"default";if(a[3]!==u||a[4]!==f||a[5]!==C||a[6]!==c||a[7]!==w||a[8]!==d||a[9]!==i||a[10]!==S||a[11]!==N){var P,I,F,E,T,z,L,q,W,K,M,D,A,B,H,R,V,G,U,Q=O({state:N});K="w-fit",M=S,F=j.InputWrapper,V=u,G=N,E=i,T=c,z=w,L=d,q="file",W=f,B="flex w-full items-center",H=(0,o.jsx)("label",{htmlFor:w,className:Q.label(),children:"Выберите файл"}),a[28]===Symbol.for("react.memo_cache_sentinel")?(U=function(){return p(!0)},a[28]=U):U=a[28],a[29]!==u||a[30]!==C||a[31]!==w?(R=(0,o.jsx)("input",{disabled:u,onClick:U,onChange:C,id:w,className:"hidden",type:"file"}),a[29]=u,a[30]=C,a[31]=w,a[32]=R):R=a[32],D=w,A=Q.output(),a[3]=u,a[4]=f,a[5]=C,a[6]=c,a[7]=w,a[8]=d,a[9]=i,a[10]=S,a[11]=N,a[12]=F,a[13]=E,a[14]=T,a[15]=z,a[16]=L,a[17]=q,a[18]=W,a[19]=K,a[20]=M,a[21]=D,a[22]=A,a[23]=B,a[24]=H,a[25]=R,a[26]=V,a[27]=G}else F=a[12],E=a[13],T=a[14],z=a[15],L=a[16],q=a[17],W=a[18],K=a[19],M=a[20],D=a[21],A=a[22],B=a[23],H=a[24],R=a[25],V=a[26],G=a[27];var J=_||"Файл не выбран";return a[33]!==J||a[34]!==D||a[35]!==A?(t=(0,o.jsx)("output",{htmlFor:D,className:A,children:J}),a[33]=J,a[34]=D,a[35]=A,a[36]=t):t=a[36],a[37]!==t||a[38]!==B||a[39]!==H||a[40]!==R?(l=(0,o.jsxs)("div",{className:B,children:[H,R,t]}),a[37]=t,a[38]=B,a[39]=H,a[40]=R,a[41]=l):l=a[41],a[42]!==F||a[43]!==E||a[44]!==T||a[45]!==z||a[46]!==L||a[47]!==q||a[48]!==W||a[49]!==l||a[50]!==V||a[51]!==G?(r=(0,o.jsx)(F,{disabled:V,state:G,labelPlacement:E,iconPlacement:T,id:z,label:L,inputType:q,error:W,children:l}),a[42]=F,a[43]=E,a[44]=T,a[45]=z,a[46]=L,a[47]=q,a[48]=W,a[49]=l,a[50]=V,a[51]=G,a[52]=r):r=a[52],a[53]!==K||a[54]!==M||a[55]!==r?(n=(0,o.jsx)("div",{className:K,ref:M,children:r}),a[53]=K,a[54]=M,a[55]=r,a[56]=n):n=a[56],n};function q(e){var t=(0,s.c)(67),l=e.field,r=e.control,n=e.index,a="fields.".concat(n,".value");t[0]!==r?(c={control:r},t[0]=r,t[1]=c):c=t[1];var i=(0,d.useFormState)(c).isSubmitting;switch(l.type){case"single":var c,u,m,f,h=l.required&&"Обязательное поле";return t[2]!==h?(u={required:h},t[2]=h,t[3]=u):u=t[3],t[4]!==l.label||t[5]!==l.labelPlacement||t[6]!==l.placeholder||t[7]!==l.showFloatingHint||t[8]!==i?(m=function(e){var t,r=e.field,n=e.fieldState;return(0,o.jsx)(k.TextField,(0,v._)({showFloatingHint:l.showFloatingHint,label:l.label,placeholder:l.placeholder,labelPlacement:l.labelPlacement,error:null==(t=n.error)?void 0:t.message,disabled:i},r))},t[4]=l.label,t[5]=l.labelPlacement,t[6]=l.placeholder,t[7]=l.showFloatingHint,t[8]=i,t[9]=m):m=t[9],t[10]!==r||t[11]!==a||t[12]!==u||t[13]!==m?(f=(0,o.jsx)(d.Controller,{name:a,control:r,rules:u,render:m}),t[10]=r,t[11]=a,t[12]=u,t[13]=m,t[14]=f):f=t[14],f;case"multiline":var b,p,x,g=l.required&&"Обязательное поле";return t[15]!==g?(b={required:g},t[15]=g,t[16]=b):b=t[16],t[17]!==l.label||t[18]!==l.labelPlacement||t[19]!==l.placeholder||t[20]!==l.size||t[21]!==i?(p=function(e){var t,r=e.field,n=e.fieldState;return(0,o.jsx)(z,(0,v._)({label:l.label,placeholder:l.placeholder,labelPlacement:l.labelPlacement,size:l.size,error:null==(t=n.error)?void 0:t.message,disabled:i},r))},t[17]=l.label,t[18]=l.labelPlacement,t[19]=l.placeholder,t[20]=l.size,t[21]=i,t[22]=p):p=t[22],t[23]!==r||t[24]!==a||t[25]!==b||t[26]!==p?(x=(0,o.jsx)(d.Controller,{name:a,control:r,rules:b,render:p}),t[23]=r,t[24]=a,t[25]=b,t[26]=p,t[27]=x):x=t[27],x;case"photo":var y,_,j,w=l.required&&"Обязательное поле";return t[28]!==w?(y={required:w},t[28]=w,t[29]=y):y=t[29],t[30]!==l.label||t[31]!==l.labelPlacement||t[32]!==i?(_=function(e){var t,r=e.field,n=e.fieldState;return(0,o.jsx)(L,{label:l.label,labelPlacement:l.labelPlacement,error:null==(t=n.error)?void 0:t.message,disabled:i,onChange:function(e){var t,l=null==(t=e.target.files)?void 0:t[0];r.onChange(l)}})},t[30]=l.label,t[31]=l.labelPlacement,t[32]=i,t[33]=_):_=t[33],t[34]!==r||t[35]!==a||t[36]!==y||t[37]!==_?(j=(0,o.jsx)(d.Controller,{name:a,control:r,rules:y,render:_}),t[34]=r,t[35]=a,t[36]=y,t[37]=_,t[38]=j):j=t[38],j;case"select":if(l.multiple){var S,C,P,I,E,T,O=l.required&&"Обязательное поле";return t[39]!==O?(I={required:O},t[39]=O,t[40]=I):I=t[40],t[41]!==l.items||t[42]!==l.label||t[43]!==l.labelPlacement||t[44]!==l.placeholder||t[45]!==l.withSearch||t[46]!==i?(E=function(e){var t,r=e.field,n=e.fieldState,a=Array.isArray(r.value)?r.value:[];return(0,o.jsx)(N,{label:l.label,items:l.items,placeholder:l.placeholder,withSearch:l.withSearch,labelPlacement:l.labelPlacement,error:null==(t=n.error)?void 0:t.message,disabled:i,value:a,onChange:function(e){r.onChange(e.map(W))}})},t[41]=l.items,t[42]=l.label,t[43]=l.labelPlacement,t[44]=l.placeholder,t[45]=l.withSearch,t[46]=i,t[47]=E):E=t[47],t[48]!==r||t[49]!==a||t[50]!==I||t[51]!==E?(T=(0,o.jsx)(d.Controller,{name:a,control:r,rules:I,render:E}),t[48]=r,t[49]=a,t[50]=I,t[51]=E,t[52]=T):T=t[52],T}var q=l.required&&"Обязательное поле";return t[53]!==q?(S={required:q},t[53]=q,t[54]=S):S=t[54],t[55]!==l.items||t[56]!==l.label||t[57]!==l.labelPlacement||t[58]!==l.placeholder||t[59]!==l.withSearch||t[60]!==i?(C=function(e){var t,r=e.field,n=e.fieldState;return(0,o.jsx)(F.Select,{label:l.label,items:l.items,placeholder:l.placeholder,withSearch:l.withSearch,labelPlacement:l.labelPlacement,error:null==(t=n.error)?void 0:t.message,disabled:i,value:r.value,onChange:function(e){r.onChange(e.label)}})},t[55]=l.items,t[56]=l.label,t[57]=l.labelPlacement,t[58]=l.placeholder,t[59]=l.withSearch,t[60]=i,t[61]=C):C=t[61],t[62]!==r||t[63]!==a||t[64]!==S||t[65]!==C?(P=(0,o.jsx)(d.Controller,{name:a,control:r,rules:S,render:C}),t[62]=r,t[63]=a,t[64]=S,t[65]=C,t[66]=P):P=t[66],P;default:return console.warn("Неизвестный тип поля:",l),null}}function W(e){return e.label}e.i(7948);var K=e.i(17098),M=function(){var e,t=(0,s.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsxs)("div",{className:"flex flex-1 flex-col gap-4",children:[(0,o.jsx)(K.SkeletonInput,{labelPlacement:"top",showLabel:!0,multiline:!1}),(0,o.jsx)(K.SkeletonInput,{labelPlacement:"top",showLabel:!0,multiline:!0,textareaSize:"md"}),(0,o.jsx)(K.SkeletonInput,{labelPlacement:"top",showLabel:!0,multiline:!1})]}),t[0]=e):e=t[0],e},D=function(e){var t,l,r,n,a=(0,s.c)(8),i=e.control,c=e.fields;return e.isLoading||0===c.length?(a[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,o.jsx)(M,{}),a[0]=t):t=a[0],t):(a[1]!==i||a[2]!==c?(a[4]!==i?(r=function(e,t){return(0,o.jsx)(q,{field:e,control:i,index:t},e.id)},a[4]=i,a[5]=r):r=a[5],l=c.map(r),a[1]=i,a[2]=c,a[3]=l):l=a[3],a[6]!==l?(n=(0,o.jsx)("div",{className:"flex grow flex-col gap-4",children:l}),a[6]=l,a[7]=n):n=a[7],n)},A=e.i(92808),B=e.i(66027),H=e.i(52069),R=e.i(28476),V=function(e){var t,l,r,n=(0,s.c)(12),a=e.taskId,i=e.modelId,o=e.domainId,c=e.enabled;n[0]!==o||n[1]!==i||n[2]!==a?(t=H.apiKeys.getGenerationFormConfig(a,i,o),n[0]=o,n[1]=i,n[2]=a,n[3]=t):t=n[3],n[4]!==o||n[5]!==i||n[6]!==a?(l=function(){return(0,R.getGenerationFormConfig)({taskId:a,modelId:i,domainId:o})},n[4]=o,n[5]=i,n[6]=a,n[7]=l):l=n[7];var d=(void 0===c||c)&&!!a&&!!i&&!!o;return n[8]!==t||n[9]!==l||n[10]!==d?(r={queryKey:t,queryFn:l,enabled:d,staleTime:3e5},n[8]=t,n[9]=l,n[10]=d,n[11]=r):r=n[11],(0,B.useQuery)(r)},G=function(e){var t,l,r,n=(0,s.c)(9),a=e.taskId,i=e.modelId,o=e.domainId,c=e.replace,d=e.enabled,u=void 0===d||d;n[0]!==o||n[1]!==u||n[2]!==i||n[3]!==a?(t={taskId:a,modelId:i,domainId:o,enabled:u},n[0]=o,n[1]=u,n[2]=i,n[3]=a,n[4]=t):t=n[4];var m=V(t);return n[5]!==m.data||n[6]!==c?(l=function(){m.data&&(console.log("\uD83D\uDD04 Синхронизация формы с конфигурацией"),c(m.data.map(U)))},r=[m.data,c],n[5]=m.data,n[6]=c,n[7]=l,n[8]=r):(l=n[7],r=n[8]),(0,g.useEffect)(l,r),m};function U(e){var t="";return"photo"===e.type?t=null:"select"===e.type&&e.multiple&&(t=[]),(0,A._)((0,v._)({},e),{value:t})}var Q=function(e){var t,l,r,n,a=(0,s.c)(18),i=e.control,c=e.field;a[0]!==i?(t={control:i},a[0]=i,a[1]=t):t=a[1];var u=(0,d.useFormState)(t).isSubmitting,m=c.required&&"Обязательное поле";return a[2]!==c.validate||a[3]!==m?(l={required:m,validate:c.validate},a[2]=c.validate,a[3]=m,a[4]=l):l=a[4],a[5]!==c.disabled||a[6]!==c.label||a[7]!==c.labelPlacement||a[8]!==c.placeholder||a[9]!==c.showFloatingHint||a[10]!==c.type||a[11]!==u?(r=function(e){var t,l,r=e.field,n=e.fieldState;return(0,o.jsx)(k.TextField,{type:null!=(l=c.type)?l:"text",showFloatingHint:c.showFloatingHint,label:c.label,placeholder:c.placeholder,labelPlacement:c.labelPlacement,error:null==(t=n.error)?void 0:t.message,disabled:c.disabled||u,value:r.value,onChange:r.onChange,onBlur:r.onBlur,name:r.name})},a[5]=c.disabled,a[6]=c.label,a[7]=c.labelPlacement,a[8]=c.placeholder,a[9]=c.showFloatingHint,a[10]=c.type,a[11]=u,a[12]=r):r=a[12],a[13]!==i||a[14]!==c.name||a[15]!==l||a[16]!==r?(n=(0,o.jsx)(d.Controller,{control:i,name:c.name,rules:l,render:r}),a[13]=i,a[14]=c.name,a[15]=l,a[16]=r,a[17]=n):n=a[17],n};e.i(82131);var J=e.i(61122),X=e.i(57033);let Y={src:e.i(27215).default,width:10,height:10,blurWidth:0,blurHeight:0};var Z=function(e,t){var l,r,n=null==(l=e[t])?void 0:l.items;if(null==n?void 0:n.length)return null!=(r=n.find(function(e){return e.default}))?r:n[0]},$=e.i(31398),ee=function(e){var t,l,r,n,a,i,o,c,u,m,f,h,x,y,_,j,k,w,S,C,N=(0,s.c)(42),P=e.filters;e:{if(!P){I=void 0;break e}var I,F,E,T,z=P.tasks,O=P.models;if(!(null==z||null==(F=z.items)?void 0:F.length)||!(null==O||null==(E=O.items)?void 0:E.length)){I=void 0;break e}N[0]!==O||N[1]!==z?(T={tasks:z,models:O},N[0]=O,N[1]=z,N[2]=T):T=N[2],I=T}var L=I,q=(0,b._)((0,g.useState)(!1),2),W=q[0],K=q[1];N[3]===Symbol.for("react.memo_cache_sentinel")?(l=function(){return K(!0)},N[3]=l):l=N[3];var M=l;N[4]===Symbol.for("react.memo_cache_sentinel")?(r=function(){return K(!1)},N[4]=r):r=N[4];var D=r;N[5]===Symbol.for("react.memo_cache_sentinel")?(n={id:"_all",label:"Все",value:"_all"},N[5]=n):n=N[5],N[6]!==P?(a=P||{},N[6]=P,N[7]=a):a=N[7],N[8]!==a?(i=Z(a,"models"),N[8]=a,N[9]=i):i=N[9],N[10]!==i?(o={task:n,model:i},N[10]=i,N[11]=o):o=N[11],N[12]===Symbol.for("react.memo_cache_sentinel")?(c={from:3,to:0},N[12]=c):c=N[12],N[13]!==o?(u={defaultValues:{filters:o,excelLink:"",range:c}},N[13]=o,N[14]=u):u=N[14];var B=(0,d.useForm)(u);N[15]!==L?(m=function(){return{filters:{task:{id:"_all",label:"Все",value:"_all"},model:Z(L||{},"models")},excelLink:"",range:{from:3,to:0}}},N[15]=L,N[16]=m):m=N[16],N[17]!==B||N[18]!==L||N[19]!==m?(f={filtersData:L,form:B,resetCallback:m},N[17]=B,N[18]=L,N[19]=m,N[20]=f):f=N[20],(0,$.useFiltersSynchronization)(f),N[21]!==B.control?(h={control:B.control,name:"filters.task"},N[21]=B.control,N[22]=h):h=N[22];var H=(0,d.useWatch)(h),R=(null==H?void 0:H.id)==="_all";N[23]!==B||N[24]!==R?(x=function(){R&&(B.setValue("range.from",3),B.setValue("range.to",0))},y=[R,B],N[23]=B,N[24]=R,N[25]=x,N[26]=y):(x=N[25],y=N[26]),(0,g.useEffect)(x,y),N[27]===Symbol.for("react.memo_cache_sentinel")?(_={name:"excelLink",label:"Ссылка на файл Excel",placeholder:"Введите ссылку на Excel файл",labelPlacement:"top",required:!0,type:"text"},N[27]=_):_=N[27],N[28]!==R?(j={excelLink:_,rangeFrom:{name:"range.from",label:"С строки",placeholder:"Номер строки",labelPlacement:"left",required:!0,type:"number",disabled:R,validate:et},rangeTo:{name:"range.to",label:"До строки",placeholder:"Номер строки",labelPlacement:"left",required:!0,type:"number",disabled:R,validate:el}},N[28]=R,N[29]=j):j=N[29];var V=j;N[30]!==P?(k=(null==P?void 0:P.tasks)?(t=P.tasks,(0,A._)((0,v._)({},t),{items:[{id:"_all",label:"Все",value:"_all"}].concat((0,p._)(t.items))})):{items:[],label:""},N[30]=P,N[31]=k):k=N[31],N[32]!==(null==P?void 0:P.models)?(w=(null==P?void 0:P.models)||{items:[],label:""},N[32]=null==P?void 0:P.models,N[33]=w):w=N[33],N[34]!==k||N[35]!==w?(S={tasks:k,models:w},N[34]=k,N[35]=w,N[36]=S):S=N[36];var G=S;return N[37]!==G||N[38]!==B||N[39]!==V||N[40]!==W?(C={form:B,formConfig:V,filtersConfig:G,handleClose:D,handleOpen:M,isOpen:W},N[37]=G,N[38]=B,N[39]=V,N[40]=W,N[41]=C):C=N[41],C};function et(e){return void 0===e||!(("string"==typeof e?Number(e):e)<3)||"Минимальное значение — 3"}function el(e){if(void 0===e)return!0;var t="string"==typeof e?Number(e):e;return 0===t||!(t<3)||"Допустимые значения: 0 или ≥ 3"}e.i(47167);var er=e.i(91865),en=e.i(96137),ea=e.i(5766),ei=e.i(38981),eo=e.i(92955),es=e.i(39946),ec=e.i(70292),ed=e.i(62351),eu=e.i(37696),em=e.i(88245),ef=e.i(80646),eh=e.i(64217),ev=e.i(14272),eb=e.i(40143),ep=e.i(15823),ex=e.i(19273),eg=(t=new WeakMap,l=new WeakMap,r=new WeakMap,n=new WeakMap,a=new WeakSet,i=new WeakSet,function(e){function o(e,s){var c;return(0,eo._)(this,o),c=(0,ei._)(this,o),(0,em._)(c,a),(0,em._)(c,i),(0,ec._)(c,t,{writable:!0,value:void 0}),(0,ec._)(c,l,{writable:!0,value:void 0}),(0,ec._)(c,r,{writable:!0,value:void 0}),(0,ec._)(c,n,{writable:!0,value:void 0}),(0,ed._)(c,t,e),c.setOptions(s),c.bindMethods(),(0,eu._)(c,a,ey).call(c),c}return(0,eh._)(o,e),(0,ef._)(o,[{key:"bindMethods",value:function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}},{key:"setOptions",value:function(e){var l,n=this.options;this.options=(0,es._)(this,t).defaultMutationOptions(e),(0,ex.shallowEqualObjects)(this.options,n)||(0,es._)(this,t).getMutationCache().notify({type:"observerOptionsUpdated",mutation:(0,es._)(this,r),observer:this}),(null==n?void 0:n.mutationKey)&&this.options.mutationKey&&(0,ex.hashKey)(n.mutationKey)!==(0,ex.hashKey)(this.options.mutationKey)?this.reset():(null==(l=(0,es._)(this,r))?void 0:l.state.status)==="pending"&&(0,es._)(this,r).setOptions(this.options)}},{key:"onUnsubscribe",value:function(){if(!this.hasListeners()){var e;null==(e=(0,es._)(this,r))||e.removeObserver(this)}}},{key:"onMutationUpdate",value:function(e){(0,eu._)(this,a,ey).call(this),(0,eu._)(this,i,e_).call(this,e)}},{key:"getCurrentResult",value:function(){return(0,es._)(this,l)}},{key:"reset",value:function(){var e;null==(e=(0,es._)(this,r))||e.removeObserver(this),(0,ed._)(this,r,void 0),(0,eu._)(this,a,ey).call(this),(0,eu._)(this,i,e_).call(this)}},{key:"mutate",value:function(e,l){var a;return(0,ed._)(this,n,l),null==(a=(0,es._)(this,r))||a.removeObserver(this),(0,ed._)(this,r,(0,es._)(this,t).getMutationCache().build((0,es._)(this,t),this.options)),(0,es._)(this,r).addObserver(this),(0,es._)(this,r).execute(e)}}]),o}(ep.Subscribable));function ey(){var e,t,n=null!=(t=null==(e=(0,es._)(this,r))?void 0:e.state)?t:(0,ev.getDefaultState)();(0,ed._)(this,l,(0,A._)((0,v._)({},n),{isPending:"pending"===n.status,isSuccess:"success"===n.status,isError:"error"===n.status,isIdle:"idle"===n.status,mutate:this.mutate,reset:this.reset}))}function e_(e){var r=this;eb.notifyManager.batch(function(){if((0,es._)(r,n)&&r.hasListeners()){var a,i,o,s,c,d,u,m,f=(0,es._)(r,l).variables,h=(0,es._)(r,l).context,v={client:(0,es._)(r,t),meta:r.options.meta,mutationKey:r.options.mutationKey};(null==e?void 0:e.type)==="success"?(null==(a=(i=(0,es._)(r,n)).onSuccess)||a.call(i,e.data,f,h,v),null==(o=(s=(0,es._)(r,n)).onSettled)||o.call(s,e.data,null,f,h,v)):(null==e?void 0:e.type)==="error"&&(null==(c=(d=(0,es._)(r,n)).onError)||c.call(d,e.error,f,h,v),null==(u=(m=(0,es._)(r,n)).onSettled)||u.call(m,void 0,e.error,f,h,v))}r.listeners.forEach(function(e){e((0,es._)(r,l))})})}var ej=e.i(12598);function ek(e,t){var l=(0,ej.useQueryClient)(t),r=(0,b._)(g.useState(function(){return new eg(l,e)}),1)[0];g.useEffect(function(){r.setOptions(e)},[r,e]);var n=g.useSyncExternalStore(g.useCallback(function(e){return r.subscribe(eb.notifyManager.batchCalls(e))},[r]),function(){return r.getCurrentResult()},function(){return r.getCurrentResult()}),a=g.useCallback(function(e,t){r.mutate(e,t).catch(ex.noop)},[r]);if(n.error&&(0,ex.shouldThrowError)(r.options.throwOnError,[n.error]))throw n.error;return(0,A._)((0,v._)({},n),{mutate:a,mutateAsync:n.mutate})}var ew=function(){var e,t=(0,s.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={mutationKey:["generate-excel"],mutationFn:R.postExcelGeneration},t[0]=e):e=t[0],ek(e)},eS=function(e,t){var l,r,n,a=(0,s.c)(9),i=ew().mutateAsync;a[0]!==e||a[1]!==i||a[2]!==t?(l=function(l){return(0,er._)(function(){return(0,en._)(this,function(r){switch(r.label){case 0:if(!l.filters.task||!l.filters.model)return ea.default.error("Все фильтры должны быть выбраны"),[2];if(!l.excelLink.trim())return ea.default.error("Ссылка на Excel обязательна"),[2];return[4,i({filters:{taskId:l.filters.task.id,modelId:l.filters.model.id},excelLink:l.excelLink,range:{from:l.range.from,to:l.range.to}},{onSuccess:function(l){l.data,ea.default.success("Excel успешно обработан!"),e.reset(),null==t||t()},onError:eC})];case 1:return r.sent(),[2]}})})()},a[0]=e,a[1]=i,a[2]=t,a[3]=l):l=a[3];var o=l;return a[4]!==e||a[5]!==o?(r=e.handleSubmit(o),a[4]=e,a[5]=o,a[6]=r):r=a[6],a[7]!==r?(n={handleSubmit:r},a[7]=r,a[8]=n):n=a[8],n};function eC(e){console.error("❌ Ошибка генерации из Excel: ",e.message),ea.default.error("Ошибка генерации: ".concat(e.message))}var eN=e.i(17878),eP=function(){var e,t,l,r=(0,s.c)(9),n=(0,eN.useGetGenerationFilters)(),a=n.data,i=n.isLoading,o=n.isError;r[0]===Symbol.for("react.memo_cache_sentinel")?(e={defaultValues:{filters:{task:void 0,model:void 0,domain:void 0},fields:[]}},r[0]=e):e=r[0];var c=(0,d.useForm)(e);r[1]!==a||r[2]!==c?(t={filtersData:a,form:c,resetCallback:eI},r[1]=a,r[2]=c,r[3]=t):t=r[3];var u=(0,$.useFiltersSynchronization)(t).isInitialized,m=i||!u;return r[4]!==a||r[5]!==c||r[6]!==o||r[7]!==m?(l={form:c,filtersData:a,isLoading:m,isError:o},r[4]=a,r[5]=c,r[6]=o,r[7]=m,r[8]=l):l=r[8],l};function eI(e){return{filters:{task:Z(e,"tasks"),model:Z(e,"models"),domain:Z(e,"domains")},fields:[]}}var eF=function(){var e,t=(0,s.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={mutationKey:["generate-content"],mutationFn:R.postGeneration},t[0]=e):e=t[0],ek(e)},eE=function(e){var t,l,r,n=(0,s.c)(8),a=eF().mutateAsync;n[0]!==e||n[1]!==a?(t=function(t){return(0,er._)(function(){var l,r;return(0,en._)(this,function(n){switch(n.label){case 0:if(l=t.fields,!(r=t.filters).task||!r.model||!r.domain)return ea.default.error("Все фильтры должны быть выбраны"),[2];return[4,a({filters:{taskId:r.task.id,modelId:r.model.id,domainId:r.domain.id},fields:l.map(eT)},{onSuccess:function(t){t.data,ea.default.success("Генерация успешна !");var r=l.map(ez);e.setValue("fields",r)},onError:eO})];case 1:return n.sent(),[2]}})})()},n[0]=e,n[1]=a,n[2]=t):t=n[2];var i=t;return n[3]!==e||n[4]!==i?(l=e.handleSubmit(i),n[3]=e,n[4]=i,n[5]=l):l=n[5],n[6]!==l?(r={handleSubmit:l},n[6]=l,n[7]=r):r=n[7],r};function eT(e){var t,l="";return"select"===e.type&&e.multiple&&(l=[]),{name:e.name,value:null!=(t=e.value)?t:l}}function ez(e){var t="";return"photo"===e.type?t=null:"select"===e.type&&e.multiple&&(t=[]),(0,A._)((0,v._)({},e),{value:t})}function eO(e){console.error("❌ Ошибка генерации: ",e.message),ea.default.error("Ошибка генерации: ".concat(e.message))}var eL=e.i(74080),eq=(0,S.tv)({slots:{container:"fixed inset-0 flex items-center justify-center",backdrop:"absolute inset-0 bg-black/18 backdrop-blur-sm",modal:"relatiive z-50 border border-neutral-300 shadow-md rounded-xl bg-white"}}),eW=function(e){var t,l=(0,s.c)(4),r=e.children,n=e.open,a=e.onClose;if(l[0]!==r||l[1]!==a||l[2]!==n){var i=eq(),c=i.backdrop,d=i.container,u=i.modal;t=n&&(0,eL.createPortal)((0,o.jsxs)("div",{className:d(),children:[(0,o.jsx)("button",{"aria-label":"Close modal",type:"button",onClick:a,className:c()}),(0,o.jsx)("div",{role:"dialog",className:u(),children:r})]}),document.body),l[0]=r,l[1]=a,l[2]=n,l[3]=t}else t=l[3];return t},eK=function(e){var t,l,r,n,a,i,d,h,v,b,p,x,g=(0,s.c)(31),y=e.handleClose,_=e.open,j=e.children,k=e.onSubmit,w=e.isSubmitting;g[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,o.jsx)(f.Text,{as:"legend",className:"text-center w-full",weight:"bold",size:"2xl",children:"Загрузить Excel"}),g[0]=t):t=g[0],g[1]!==j?(l=(0,o.jsxs)("fieldset",{className:"border-none items-center justify-center flex flex-col",children:[t,j]}),g[1]=j,g[2]=l):l=g[2],g[3]!==w?(r=w&&(0,o.jsx)(m,{className:"animate-spin text-white w-4 h-4"}),g[3]=w,g[4]=r):r=g[4];var S=w?"Обработка...":"Подтвердить";return g[5]!==S?(n=(0,o.jsx)(f.Text,{size:"sm",uppercase:!0,weight:"medium",color:"white",children:S}),g[5]=S,g[6]=n):n=g[6],g[7]!==r||g[8]!==n?(a=(0,o.jsxs)("div",{className:"flex gap-2 items-center",children:[r,n]}),g[7]=r,g[8]=n,g[9]=a):a=g[9],g[10]!==w?(i=!w&&(0,o.jsx)(c.default,{className:"ml-2",alt:"",src:Y}),g[10]=w,g[11]=i):i=g[11],g[12]!==w||g[13]!==a||g[14]!==i?(d=(0,o.jsxs)(u.Button,{className:"inline-flex items-center justify-center flex-1",type:"submit",disabled:w,children:[a,i]}),g[12]=w,g[13]=a,g[14]=i,g[15]=d):d=g[15],g[16]===Symbol.for("react.memo_cache_sentinel")?(h=(0,o.jsx)(f.Text,{color:"primary",size:"xs",uppercase:!0,children:"отмена"}),g[16]=h):h=g[16],g[17]!==y||g[18]!==w?(v=(0,o.jsx)(u.Button,{onClick:y,variant:"secondary",disabled:w,children:h}),g[17]=y,g[18]=w,g[19]=v):v=g[19],g[20]!==v||g[21]!==d?(b=(0,o.jsxs)("div",{className:"flex mt-6 gap-3.75",children:[d,v]}),g[20]=v,g[21]=d,g[22]=b):b=g[22],g[23]!==k||g[24]!==b||g[25]!==l?(p=(0,o.jsx)("div",{className:"p-8",children:(0,o.jsxs)("form",{onSubmit:k,children:[l,b]})}),g[23]=k,g[24]=b,g[25]=l,g[26]=p):p=g[26],g[27]!==y||g[28]!==_||g[29]!==p?(x=(0,o.jsx)(eW,{open:_,onClose:y,children:p}),g[27]=y,g[28]=_,g[29]=p,g[30]=x):x=g[30],x},eM=function(){var e,t,l,r,n,a,i,m,v,b,p,x,g,y,_,j,k=(0,s.c)(47),w=eP(),S=w.filtersData,C=w.form,N=w.isLoading;k[0]!==S?(e={filters:S},k[0]=S,k[1]=e):e=k[1];var P=ee(e),I=P.isOpen,F=P.handleOpen,E=P.handleClose,T=P.form,z=P.formConfig,O=P.filtersConfig,L=C.formState.isSubmitting,q=T.formState.isSubmitting,W=eE(C).handleSubmit,K=eS(T,E).handleSubmit;k[2]!==C.control?(t={control:C.control,name:"fields"},k[2]=C.control,k[3]=t):t=k[3];var M=(0,d.useFieldArray)(t),A=M.fields,B=M.replace;k[4]!==C.control?(l={control:C.control,name:"filters.task"},k[4]=C.control,k[5]=l):l=k[5];var H=(0,d.useWatch)(l);k[6]!==C.control?(r={control:C.control,name:"filters.model"},k[6]=C.control,k[7]=r):r=k[7];var R=(0,d.useWatch)(r);k[8]!==C.control?(n={control:C.control,name:"filters.domain"},k[8]=C.control,k[9]=n):n=k[9];var V=(0,d.useWatch)(n),U=null!=(a=null==H?void 0:H.id)?a:"",Z=null!=(i=null==R?void 0:R.id)?i:"",$=null!=(m=null==V?void 0:V.id)?m:"",et=!!((null==H?void 0:H.id)&&(null==R?void 0:R.id)&&(null==V?void 0:V.id));k[10]!==B||k[11]!==U||k[12]!==Z||k[13]!==$||k[14]!==et?(v={taskId:U,modelId:Z,domainId:$,replace:B,enabled:et},k[10]=B,k[11]=U,k[12]=Z,k[13]=$,k[14]=et,k[15]=v):v=k[15];var el=G(v).isLoading;return k[16]!==C.control||k[17]!==F||k[18]!==L?(b=function(e){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsx)(J.FilterSelect,{disabled:L,config:e.tasks,control:C.control,name:"filters.task"}),(0,o.jsxs)(u.Button,{className:"inline-flex items-center shrink-0",variant:"primary",onClick:F,children:[(0,o.jsx)(f.Text,{size:"sm",uppercase:!0,weight:"medium",color:"white",children:"Загрузить Excel"}),(0,o.jsx)(c.default,{className:"ml-2",alt:"",src:Y})]})]}),(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsx)(J.FilterSelect,{disabled:L,control:C.control,name:"filters.model",config:e.models}),(0,o.jsx)(J.FilterSelect,{disabled:L,control:C.control,name:"filters.domain",config:e.domains})]})]})},k[16]=C.control,k[17]=F,k[18]=L,k[19]=b):b=k[19],k[20]!==S||k[21]!==N||k[22]!==b?(p=(0,o.jsx)(X.FiltersPanel,{filters:S,isLoading:N,children:b}),k[20]=S,k[21]=N,k[22]=b,k[23]=p):p=k[23],k[24]!==el||k[25]!==A||k[26]!==C.control?(x=(0,o.jsx)(D,{control:C.control,fields:A,isLoading:el}),k[24]=el,k[25]=A,k[26]=C.control,k[27]=x):x=k[27],k[28]!==L?(g=(0,o.jsx)(h,{isLoading:L}),k[28]=L,k[29]=g):g=k[29],k[30]!==W||k[31]!==p||k[32]!==x||k[33]!==g?(y=(0,o.jsxs)("form",{onSubmit:W,className:"flex flex-1 flex-col gap-4",children:[p,x,g]}),k[30]=W,k[31]=p,k[32]=x,k[33]=g,k[34]=y):y=k[34],k[35]!==T.control||k[36]!==O||k[37]!==S||k[38]!==z||k[39]!==E||k[40]!==K||k[41]!==q||k[42]!==I?(_=S&&(0,o.jsx)(eK,{handleClose:E,open:I,onSubmit:K,isSubmitting:q,children:(0,o.jsxs)("div",{className:"mt-4 flex flex-col gap-4",children:[(0,o.jsx)(Q,{field:z.excelLink,control:T.control}),(0,o.jsxs)("div",{className:"flex gap-4",children:[(0,o.jsx)(J.FilterSelect,{config:O.tasks,control:T.control,name:"filters.task",disabled:q}),(0,o.jsx)(J.FilterSelect,{config:O.models,control:T.control,name:"filters.model",disabled:q})]}),(0,o.jsxs)("div",{className:"flex gap-4",children:[(0,o.jsx)(Q,{field:z.rangeFrom,control:T.control}),(0,o.jsx)(Q,{field:z.rangeTo,control:T.control})]})]})}),k[35]=T.control,k[36]=O,k[37]=S,k[38]=z,k[39]=E,k[40]=K,k[41]=q,k[42]=I,k[43]=_):_=k[43],k[44]!==y||k[45]!==_?(j=(0,o.jsxs)("section",{className:"flex flex-1",children:[y,_]}),k[44]=y,k[45]=_,k[46]=j):j=k[46],j};e.s(["GenerationFormWidget",()=>eM],94102)},70330,e=>{"use strict";e.s(["GenerationResultWidget",()=>S,"VIEW_MODES",()=>j],70330);var t=e.i(51682),l=e.i(43476),r=e.i(932),n=e.i(71645),a=e.i(20786),i=e.i(92808),o=e.i(40143),s=e.i(19273),c=e.i(12598);function d(e,t){return e.findAll(t.filters).map(function(e){return t.select?t.select(e):e.state})}var u=function(){var e,t,l=(0,r.c)(3);l[0]===Symbol.for("react.memo_cache_sentinel")?(e={filters:{status:"success",predicate:m},select:f},l[0]=e):e=l[0];var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,l=(0,c.useQueryClient)(t).getMutationCache(),r=n.useRef(e),a=n.useRef(null);return null===a.current&&(a.current=d(l,e)),n.useEffect(function(){r.current=e}),n.useSyncExternalStore(n.useCallback(function(e){return l.subscribe(function(){var t=(0,s.replaceEqualDeep)(a.current,d(l,r.current));a.current!==t&&(a.current=t,o.notifyManager.schedule(e))})},[l]),function(){return a.current},function(){return a.current})}(e);return l[1]!==a?(t=a.at(-1),l[1]=a,l[2]=t):t=l[2],t};function m(e){var t,l=null==(t=e.options.mutationKey)?void 0:t[0];return"generate-content"===l||"generate-excel"===l}function f(e){return e.state.data}var h=e.i(33027),v=e.i(42010),b=(0,v.tv)({base:["bg-white rounded-xl","transition-shadow duration-200"],variants:{elevation:{none:"shadow-none",low:"shadow-sm",medium:"shadow-md",high:"shadow-lg"},padding:{none:"p-0",sm:"p-3",md:"p-4",lg:"p-5"},bordered:{true:"border border-gray-200",false:""}},defaultVariants:{elevation:"medium",padding:"md",bordered:!1}}),p=function(e){var t,n,o,s,c,d,u,m,f,v=(0,r.c)(18);v[0]!==e?(u=(0,h._)(e,["children","as","bordered","padding","elevation","className"]),o=e.children,t=e.as,n=e.bordered,d=e.padding,c=e.elevation,s=e.className,v[0]=e,v[1]=t,v[2]=n,v[3]=o,v[4]=s,v[5]=c,v[6]=d,v[7]=u):(t=v[1],n=v[2],o=v[3],s=v[4],c=v[5],d=v[6],u=v[7]),v[8]!==n||v[9]!==s||v[10]!==c||v[11]!==d?(m=b({elevation:c,padding:d,bordered:n,className:s}),v[8]=n,v[9]=s,v[10]=c,v[11]=d,v[12]=m):m=v[12];var p=m,x=t||"div";return v[13]!==x||v[14]!==o||v[15]!==u||v[16]!==p?(f=(0,l.jsx)(x,(0,i._)((0,a._)({className:p},u),{children:o})),v[13]=x,v[14]=o,v[15]=u,v[16]=p,v[17]=f):f=v[17],f};e.i(92916);var x=e.i(77086),g=(0,v.tv)({slots:{track:"w-8 h-3 rounded-full flex items-center transition",thumb:"block w-4.5 h-4.5 rounded-full transform transition"},variants:{checked:{true:{thumb:"translate-x-4 bg-primary",track:"bg-primary"},false:{thumb:"bg-primary/90",track:"bg-primary/85"}}}}),y=function(e){var t,n,a,i,o,s,c=(0,r.c)(13),d=e.onSwitch,u=e.checked;if(c[0]!==u||c[1]!==d){var m=g({checked:u}),f=m.thumb,h=m.track;n="button",a=d,i=h(),t=f(),c[0]=u,c[1]=d,c[2]=t,c[3]=n,c[4]=a,c[5]=i}else t=c[2],n=c[3],a=c[4],i=c[5];return c[6]!==t?(o=(0,l.jsx)("span",{className:t}),c[6]=t,c[7]=o):o=c[7],c[8]!==n||c[9]!==a||c[10]!==i||c[11]!==o?(s=(0,l.jsx)("button",{type:n,onClick:a,className:i,children:o}),c[8]=n,c[9]=a,c[10]=i,c[11]=o,c[12]=s):s=c[12],s},_=function(e){var n,a,i,o,s,c=(0,r.c)(14),d=e.mode,u=e.onToggle,m=e.labels,f=(0,t._)(j,2),h=f[0],v=f[1],b=d!==h,p=d===h?"primary":"black",g=d===v?"primary":"black";c[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,l.jsx)(x.Text,{size:"2xl",children:"Результат"}),c[0]=n):n=c[0];var _=m[j[0]];c[1]!==p||c[2]!==_?(a=(0,l.jsx)(x.Text,{color:p,children:_}),c[1]=p,c[2]=_,c[3]=a):a=c[3],c[4]!==b||c[5]!==u?(i=(0,l.jsx)(y,{checked:b,onSwitch:u}),c[4]=b,c[5]=u,c[6]=i):i=c[6];var k=m[j[1]];return c[7]!==g||c[8]!==k?(o=(0,l.jsx)(x.Text,{color:g,children:k}),c[7]=g,c[8]=k,c[9]=o):o=c[9],c[10]!==a||c[11]!==i||c[12]!==o?(s=(0,l.jsxs)("header",{className:"flex justify-between",children:[n,(0,l.jsxs)("div",{className:"flex gap-3 items-center",children:[a,i,o]})]}),c[10]=a,c[11]=i,c[12]=o,c[13]=s):s=c[13],s},j=["demo","source"],k={demo:"Отображение",source:"Исходный код"},w={demo:"text",source:"html"},S=function(){var e,a,i,o,s,c=(0,r.c)(9),d=(0,t._)((0,n.useState)("demo"),2),m=d[0],f=d[1],h=u();c[0]===Symbol.for("react.memo_cache_sentinel")?(a=function(){f(C)},c[0]=a):a=c[0];var v=a,b=null==h||null==(e=h.data)?void 0:e[w[m]];return c[1]!==m?(i=(0,l.jsx)(_,{labels:k,mode:m,onToggle:v}),c[1]=m,c[2]=i):i=c[2],c[3]!==b||c[4]!==(null==h?void 0:h.data)?(o=(0,l.jsx)(p,{className:"flex-1",children:(null==h?void 0:h.data)?(0,l.jsx)(x.Text,{children:b}):(0,l.jsx)(x.Text,{color:"info",children:"Настройте параметры и запустите генерацию"})}),c[3]=b,c[4]=null==h?void 0:h.data,c[5]=o):o=c[5],c[6]!==i||c[7]!==o?(s=(0,l.jsxs)("section",{className:"flex flex-col flex-1 gap-3",children:[i,o]}),c[6]=i,c[7]=o,c[8]=s):s=c[8],s};function C(e){var l=(0,t._)(j,2),r=l[0],n=l[1];return e===r?n:r}}]);