(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return n}});var n=function(e){}},81171,e=>{e.v("/_next/static/media/logo.a32eb97b.svg")},70860,e=>{"use strict";e.i(97274),e.s([])},72680,e=>{"use strict";let r={src:e.i(81171).default,width:123,height:31,blurWidth:0,blurHeight:0};e.s(["default",0,r])},57626,e=>{"use strict";var r=e.i(51682),t=e.i(43476),n=e.i(932),i=e.i(57688),a=e.i(71645),s=e.i(66027),o=e.i(52069),l=e.i(91865),c=e.i(96137),u=e.i(15485),m=e.i(48387);e.i(47167);var d=function(){return"pk_live_51KxYz2L9mN3pQ4rS5tU6vW7xY8zA9bC0dE1fG2hH3iI4jJ5kK6lL7mM8nN9oO0pP1qQ2rR3sS4tT5uU6vV7wW8xX9yY0zZ"},f=function(){return(0,l._)(function(){var e;return(0,c._)(this,function(r){return e=d(),[2,u.api.get(m.apiRoutes.getCsrfToken,{headers:{Authorization:"Bearer ".concat(e)}}).json()]})})()},h=function(e){var r,t,i=(0,n.c)(3),a=void 0===e||e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(r=[o.apiKeys.getCsrfToken],i[0]=r):r=i[0],i[1]!==a?(t={queryKey:r,queryFn:f,enabled:a,retry:3,staleTime:0,gcTime:0},i[1]=a,i[2]=t):t=i[2],(0,s.useQuery)(t)},x=e.i(54616),v=function(){var e,r=(0,n.c)(1);return r[0]===Symbol.for("react.memo_cache_sentinel")?(e={mutationKey:[o.apiKeys.login],mutationFn:p},r[0]=e):e=r[0],(0,x.useMutation)(e)};function p(e){var r=e.data,t=e.csrfToken;return(0,l._)(function(){var e;return(0,c._)(this,function(n){return e=d(),[2,u.api.post(m.apiRoutes.login,{searchParams:{username:r.username,password:r.password},headers:{Authorization:"Bearer ".concat(e),"X-CSRF-Token":t}}).json()]})})()}var b=e.i(53145);e.i(91268);var g=e.i(94643),y=e.i(95770);e.i(92916);var j=e.i(77086);e.i(67496);var _=e.i(92626),S=function(e){var r,i,a,s,o,l,c,u,m,d,f,h,x,v,p=(0,n.c)(34),S=e.onSubmit,T=e.isSubmitting,w=e.error;p[0]===Symbol.for("react.memo_cache_sentinel")?(r={defaultValues:{username:"",password:""}},p[0]=r):r=p[0];var C=(0,b.useForm)(r),N=C.control,P=C.handleSubmit;p[1]!==P||p[2]!==S?(i=P(S),p[1]=P,p[2]=S,p[3]=i):i=p[3],p[4]===Symbol.for("react.memo_cache_sentinel")?(a={required:"Обязательное поле"},p[4]=a):a=p[4],p[5]!==T?(s=function(e){var r,n=e.field,i=e.fieldState;return(0,t.jsx)(_.TextField,{type:"text",label:"Логин",placeholder:"Введите логин",labelPlacement:"top",error:null==(r=i.error)?void 0:r.message,disabled:T,value:n.value,onChange:n.onChange,onBlur:n.onBlur,name:n.name})},p[5]=T,p[6]=s):s=p[6],p[7]!==N||p[8]!==s?(o=(0,t.jsx)(b.Controller,{control:N,name:"username",rules:a,render:s}),p[7]=N,p[8]=s,p[9]=o):o=p[9],p[10]===Symbol.for("react.memo_cache_sentinel")?(l={required:"Обязательное поле"},p[10]=l):l=p[10],p[11]!==T?(c=function(e){var r,n=e.field,i=e.fieldState;return(0,t.jsx)(_.TextField,{type:"password",label:"Пароль",placeholder:"Введите пароль",labelPlacement:"top",error:null==(r=i.error)?void 0:r.message,disabled:T,value:n.value,onChange:n.onChange,onBlur:n.onBlur,name:n.name})},p[11]=T,p[12]=c):c=p[12],p[13]!==N||p[14]!==c?(u=(0,t.jsx)(b.Controller,{control:N,name:"password",rules:l,render:c}),p[13]=N,p[14]=c,p[15]=u):u=p[15],p[16]!==w?(m=w&&(0,t.jsx)(j.Text,{size:"sm",className:"text-red-500",children:w}),p[16]=w,p[17]=m):m=p[17],p[18]!==T?(d=T&&(0,t.jsx)(y.Spinner,{className:"animate-spin text-white w-4 h-4"}),p[18]=T,p[19]=d):d=p[19];var k=T?"Вход...":"Войти";return p[20]!==k?(f=(0,t.jsx)(j.Text,{size:"sm",uppercase:!0,weight:"medium",color:"white",children:k}),p[20]=k,p[21]=f):f=p[21],p[22]!==d||p[23]!==f?(h=(0,t.jsxs)("div",{className:"flex gap-2 justify-center",children:[d,f]}),p[22]=d,p[23]=f,p[24]=h):h=p[24],p[25]!==T||p[26]!==h?(x=(0,t.jsx)(g.Button,{type:"submit",variant:"primary",disabled:T,children:h}),p[25]=T,p[26]=h,p[27]=x):x=p[27],p[28]!==x||p[29]!==i||p[30]!==o||p[31]!==u||p[32]!==m?(v=(0,t.jsxs)("form",{onSubmit:i,className:"flex flex-col gap-4 w-full",children:[o,u,m,x]}),p[28]=x,p[29]=i,p[30]=o,p[31]=u,p[32]=m,p[33]=v):v=p[33],v},T=e.i(72680);e.i(70860);var w=e.i(97274),C=function(){var e,s,o,l,c=(0,n.c)(10),u=(0,r._)((0,a.useState)(),2),m=u[0],d=u[1],f=h(),x=f.data,p=f.isLoading,b=v(),g=b.mutate,y=b.isPending;c[0]!==x||c[1]!==g?(e=function(e){(null==x?void 0:x.csrfToken)?(d(void 0),g({data:e,csrfToken:x.csrfToken},{onError:function(e){d(e.message||"Ошибка авторизации")},onSuccess:function(e){e.success||d(e.message||"Неверный логин или пароль")}})):d("Не удалось получить CSRF токен")},c[0]=x,c[1]=g,c[2]=e):e=c[2];var _=e,C=p||y;return c[3]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)(i.default,{src:T.default,alt:"Logo",width:120,height:120,priority:!0}),c[3]=s):s=c[3],c[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)(j.Text,{as:"h1",size:"2xl",weight:"bold",className:"text-center mb-6",children:"Авторизация"}),c[4]=o):o=c[4],c[5]!==_||c[6]!==p||c[7]!==C||c[8]!==m?(l=(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-neutral-50",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-8 w-full max-w-md px-4",children:[s,(0,t.jsxs)(w.Paper,{className:"w-full p-8",children:[o,p?(0,t.jsx)(j.Text,{className:"text-center",children:"Загрузка..."}):(0,t.jsx)(S,{onSubmit:_,isSubmitting:C,error:m})]})]})}),c[5]=_,c[6]=p,c[7]=C,c[8]=m,c[9]=l):l=c[9],l};e.s(["LoginWidget",()=>C],57626)}]);