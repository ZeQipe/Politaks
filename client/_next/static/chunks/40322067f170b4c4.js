(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return a}});var a=function(e){}},81171,e=>{e.v("/_next/static/media/logo.a32eb97b.svg")},53284,72680,e=>{"use strict";var r=e.i(48387),t=e.i(15485);e.i(47167);var a=function(){return"pk_live_51KxYz2L9mN3pQ4rS5tU6vW7xY8zA9bC0dE1fG2hH3iI4jJ5kK6lL7mM8nN9oO0pP1qQ2rR3sS4tT5uU6vV7wW8xX9yY0zZ"},n=function(){var e=a();return t.api.get(r.apiRoutes.getCsrfToken,{headers:{Authorization:"Bearer ".concat(e)}}).json()},i=function(e,n){var i=a();return t.api.post(r.apiRoutes.login,{searchParams:{username:e.username,password:e.password},headers:{Authorization:"Bearer ".concat(i),"X-CSRF-Token":n}}).json()},s=function(){return t.api.post(r.apiRoutes.logout).json()};e.s(["getCsrfToken",()=>n,"postLogaut",()=>s,"postLogin",()=>i],53284);let o={src:e.i(81171).default,width:123,height:31,blurWidth:0,blurHeight:0};e.s(["default",0,o],72680)},95770,e=>{"use strict";var r=e.i(43476),t=e.i(932),a=function(e){var a,n,i=(0,t.c)(3),s=e.className;return i[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("circle",{cx:"7",cy:"7",r:"6",stroke:"currentColor",strokeOpacity:".3",strokeWidth:"2"}),(0,r.jsx)("path",{fill:"currentColor",fillOpacity:".1",fillRule:"nonzero",d:"M7 0a7 7 0 0 1 7 7h-2a5 5 0 0 0-5-5V0z"})]}),i[0]=a):a=i[0],i[1]!==s?(n=(0,r.jsx)("svg",{"aria-hidden":"true",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",className:s,children:a}),i[1]=s,i[2]=n):n=i[2],n};e.s(["Spinner",()=>a])},97274,e=>{"use strict";var r=e.i(20786),t=e.i(92808),a=e.i(33027),n=e.i(43476),i=e.i(932),s=(0,e.i(42010).tv)({base:["bg-white rounded-xl","transition-shadow duration-200"],variants:{elevation:{none:"shadow-none",low:"shadow-sm",medium:"shadow-md",high:"shadow-lg"},padding:{none:"p-0",sm:"p-3",md:"p-4",lg:"p-5"},bordered:{true:"border border-gray-200",false:""}},defaultVariants:{elevation:"medium",padding:"md",bordered:!1}}),o=function(e){var o,l,c,u,d,m,f,h,p,v=(0,i.c)(18);v[0]!==e?(f=(0,a._)(e,["children","as","bordered","padding","elevation","className"]),c=e.children,o=e.as,l=e.bordered,m=e.padding,d=e.elevation,u=e.className,v[0]=e,v[1]=o,v[2]=l,v[3]=c,v[4]=u,v[5]=d,v[6]=m,v[7]=f):(o=v[1],l=v[2],c=v[3],u=v[4],d=v[5],m=v[6],f=v[7]),v[8]!==l||v[9]!==u||v[10]!==d||v[11]!==m?(h=s({elevation:d,padding:m,bordered:l,className:u}),v[8]=l,v[9]=u,v[10]=d,v[11]=m,v[12]=h):h=v[12];var g=h,x=o||"div";return v[13]!==x||v[14]!==c||v[15]!==f||v[16]!==g?(p=(0,n.jsx)(x,(0,t._)((0,r._)({className:g},f),{children:c})),v[13]=x,v[14]=c,v[15]=f,v[16]=g,v[17]=p):p=v[17],p};e.s(["Paper",()=>o],97274)},70860,e=>{"use strict";e.i(97274),e.s([])},57626,e=>{"use strict";var r=e.i(43476),t=e.i(932),a=e.i(57688),n=e.i(18566),i=e.i(5766),s=e.i(66027),o=e.i(52069),l=e.i(53284),c=function(e){var r,a,n=(0,t.c)(3),i=void 0===e||e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(r=[o.apiKeys.getCsrfToken],n[0]=r):r=n[0],n[1]!==i?(a={queryKey:r,queryFn:l.getCsrfToken,enabled:i,retry:3,staleTime:0,gcTime:0},n[1]=i,n[2]=a):a=n[2],(0,s.useQuery)(a)},u=e.i(54616),d=function(){var e,r=(0,t.c)(1);return r[0]===Symbol.for("react.memo_cache_sentinel")?(e={mutationKey:[o.apiKeys.login],mutationFn:m},r[0]=e):e=r[0],(0,u.useMutation)(e)};function m(e){var r=e.data,t=e.csrfToken;return(0,l.postLogin)(r,t)}var f=e.i(53145);e.i(91268);var h=e.i(94643),p=e.i(95770);e.i(92916);var v=e.i(77086);e.i(67496);var g=e.i(92626),x=function(e){var a,n,i,s,o,l,c,u,d,m,x,b,j,y,w=(0,t.c)(34),S=e.onSubmit,T=e.isSubmitting,_=e.error;w[0]===Symbol.for("react.memo_cache_sentinel")?(a={defaultValues:{username:"",password:""}},w[0]=a):a=w[0];var N=(0,f.useForm)(a),C=N.control,k=N.handleSubmit;w[1]!==k||w[2]!==S?(n=k(S),w[1]=k,w[2]=S,w[3]=n):n=w[3],w[4]===Symbol.for("react.memo_cache_sentinel")?(i={required:"Обязательное поле"},w[4]=i):i=w[4],w[5]!==T?(s=function(e){var t,a=e.field,n=e.fieldState;return(0,r.jsx)(g.TextField,{type:"text",label:"Логин",placeholder:"Введите логин",labelPlacement:"top",error:null==(t=n.error)?void 0:t.message,disabled:T,value:a.value,onChange:a.onChange,onBlur:a.onBlur,name:a.name})},w[5]=T,w[6]=s):s=w[6],w[7]!==C||w[8]!==s?(o=(0,r.jsx)(f.Controller,{control:C,name:"username",rules:i,render:s}),w[7]=C,w[8]=s,w[9]=o):o=w[9],w[10]===Symbol.for("react.memo_cache_sentinel")?(l={required:"Обязательное поле"},w[10]=l):l=w[10],w[11]!==T?(c=function(e){var t,a=e.field,n=e.fieldState;return(0,r.jsx)(g.TextField,{type:"password",label:"Пароль",placeholder:"Введите пароль",labelPlacement:"top",error:null==(t=n.error)?void 0:t.message,disabled:T,value:a.value,onChange:a.onChange,onBlur:a.onBlur,name:a.name})},w[11]=T,w[12]=c):c=w[12],w[13]!==C||w[14]!==c?(u=(0,r.jsx)(f.Controller,{control:C,name:"password",rules:l,render:c}),w[13]=C,w[14]=c,w[15]=u):u=w[15],w[16]!==_?(d=_&&(0,r.jsx)(v.Text,{size:"sm",className:"text-red-500",children:_}),w[16]=_,w[17]=d):d=w[17],w[18]!==T?(m=T&&(0,r.jsx)(p.Spinner,{className:"animate-spin text-white w-4 h-4"}),w[18]=T,w[19]=m):m=w[19];var R=T?"Вход...":"Войти";return w[20]!==R?(x=(0,r.jsx)(v.Text,{size:"sm",uppercase:!0,weight:"medium",color:"white",children:R}),w[20]=R,w[21]=x):x=w[21],w[22]!==m||w[23]!==x?(b=(0,r.jsxs)("div",{className:"flex gap-2 justify-center",children:[m,x]}),w[22]=m,w[23]=x,w[24]=b):b=w[24],w[25]!==T||w[26]!==b?(j=(0,r.jsx)(h.Button,{type:"submit",variant:"primary",disabled:T,children:b}),w[25]=T,w[26]=b,w[27]=j):j=w[27],w[28]!==j||w[29]!==n||w[30]!==o||w[31]!==u||w[32]!==d?(y=(0,r.jsxs)("form",{onSubmit:n,className:"flex flex-col gap-4 w-full",children:[o,u,d,j]}),w[28]=j,w[29]=n,w[30]=o,w[31]=u,w[32]=d,w[33]=y):y=w[33],y},b=e.i(72680),j=e.i(24760);e.i(70860);var y=e.i(97274),w=function(){var e,s,o,l,u=(0,t.c)(11),m=(0,n.useRouter)(),f=c(),h=f.data,p=f.isLoading,g=f.isError,w=d(),T=w.mutate,_=w.isPending;u[0]!==h||u[1]!==g||u[2]!==T||u[3]!==m?(e=function(e){!g&&(null==h?void 0:h.csrfToken)?T({data:e,csrfToken:h.csrfToken},{onError:S,onSuccess:function(e){e.success?m.push(j.ROUTES.GENERATION):i.default.error(e.message||"Неверный логин или пароль")}}):i.default.error("Не удалось получить CSRF токен ❌")},u[0]=h,u[1]=g,u[2]=T,u[3]=m,u[4]=e):e=u[4];var N=e,C=p||_;return u[5]===Symbol.for("react.memo_cache_sentinel")?(s=(0,r.jsx)(a.default,{src:b.default,alt:"Logo",width:120,height:120,priority:!0}),u[5]=s):s=u[5],u[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,r.jsx)(v.Text,{as:"h1",size:"2xl",weight:"bold",className:"text-center mb-6",children:"Авторизация"}),u[6]=o):o=u[6],u[7]!==N||u[8]!==p||u[9]!==C?(l=(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-neutral-50",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-8 w-full max-w-md px-4",children:[s,(0,r.jsxs)(y.Paper,{className:"w-full p-8",children:[o,p?(0,r.jsx)(v.Text,{className:"text-center",children:"Загрузка..."}):(0,r.jsx)(x,{onSubmit:N,isSubmitting:C})]})]})}),u[7]=N,u[8]=p,u[9]=C,u[10]=l):l=u[10],l};function S(e){i.default.error(e.message||"Ошибка авторизации")}e.s(["LoginWidget",()=>w],57626)}]);